

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3. Thin-plate spline module (symmetrize.tps) &mdash; symmetrize 0.4.2 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="symmetrize 0.4.2 documentation" href="../index.html"/>
        <link rel="prev" title="2. Point operations module (symmetrize.pointops)" href="pointops.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> symmetrize
          

          
          </a>

          
            
            
              <div class="version">
                0.4.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Tutorial</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/installation.html">1. Package installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/workflow.html">2. Example workflow for shape symmetrization of band mapping data of <span class="math">\(\text{WSe}_2\)</span></a></li>
</ul>
<p class="caption"><span class="caption-text">Function directory</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="sym.html">1. Symmetrizer module (symmetrize.sym)</a></li>
<li class="toctree-l1"><a class="reference internal" href="pointops.html">2. Point operations module (symmetrize.pointops)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">3. Thin-plate spline module (symmetrize.tps)</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">symmetrize</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>3. Thin-plate spline module (symmetrize.tps)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/library/tps.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-symmetrize.tps">
<span id="thin-plate-spline-module-symmetrize-tps"></span><h1>3. Thin-plate spline module (symmetrize.tps)<a class="headerlink" href="#module-symmetrize.tps" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="symmetrize.tps.tpsWarping">
<code class="descclassname">symmetrize.tps.</code><code class="descname">tpsWarping</code><span class="sig-paren">(</span><em>from_points</em>, <em>to_points</em>, <em>images=None</em>, <em>axis=None</em>, <em>interpolation_order=1</em>, <em>approximate_grid=1</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/symmetrize/tps.html#tpsWarping"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#symmetrize.tps.tpsWarping" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the thin-plate spline (TPS) warping transform that from the from_points
to the to_points, and then warp the given images by that transform. This
transform is described in the paper: “Principal Warps: Thin-Plate Splines and
the Decomposition of Deformations” by F.L. Bookstein.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt>from_points, to_points <span class="classifier-delimiter">:</span> <span class="classifier">2D array, 2D array (dim = n x 2)</span></dt>
<dd><p class="first last">Correspondence point sets containing n 2D landmarks from the distorted and ideal images.
The coordinates are in the (row, column) convention.</p>
</dd>
<dt>images <span class="classifier-delimiter">:</span> <span class="classifier">3D array | None</span></dt>
<dd><p class="first last">3D image stack to warp with the calculated thin-plate spline transform.</p>
</dd>
<dt>axis <span class="classifier-delimiter">:</span> <span class="classifier">int | None</span></dt>
<dd><p class="first last">Image stacking axis in 3D image. Specify None to mean 2D image.</p>
</dd>
<dt>interpolation_order <span class="classifier-delimiter">:</span> <span class="classifier">int | 1</span></dt>
<dd><p class="first last">If 1, then use linear interpolation; if 0 then use nearest-neighbor.
See <code class="docutils literal"><span class="pre">scipy.ndimage.map_coordinates()</span></code>.</p>
</dd>
<dt>approximate_grid <span class="classifier-delimiter">:</span> <span class="classifier">int | 1</span></dt>
<dd><p class="first last">Use the approximate grid (if set &gt; 1) for the transform. The approximate grid is smaller
than the output image region, and then the transform is bilinearly interpolated to the
larger region. This is fairly accurate for values up to 10 or so.</p>
</dd>
<dt>kwds <span class="classifier-delimiter">:</span> <span class="classifier">keyword arguments</span></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">output_region:</th><td class="field-body"><p class="first">tuple | (0, 0, # of columns in image, # of rows in image)
The (xmin, ymin, xmax, ymax) region of the output image that should be produced.
(Note: The region is inclusive, i.e. xmin &lt;= x &lt;= xmax).</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">ret:</th><td class="field-body"><p class="first">str | ‘all’
Function return specification.</p>
<p><code class="docutils literal"><span class="pre">'image'</span></code>: return the transformed image.</p>
<p><code class="docutils literal"><span class="pre">'deform'</span></code>: return the deformation field.</p>
<p class="last"><code class="docutils literal"><span class="pre">'all'</span></code>: return both the transformed images and deformation field.</p>
</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt>images_tf <span class="classifier-delimiter">:</span> <span class="classifier">nD array</span></dt>
<dd><p class="first last">Transformed image stack.</p>
</dd>
<dt>transform <span class="classifier-delimiter">:</span> <span class="classifier">list</span></dt>
<dd><p class="first last">Deformation field along x and y axes.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="pointops.html" class="btn btn-neutral" title="2. Point operations module (symmetrize.pointops)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, R. Patrick Xian.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.4.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>